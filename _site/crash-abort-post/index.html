<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>[Jekyll] jekyll serve 명령 실행 시 crash-abort 이슈 - RICHPIN의 블로그</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="RICHPIN의 블로그" property="og:site_name">
  
    <meta content="[Jekyll] jekyll serve 명령 실행 시 crash-abort 이슈" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="jekyll serve 명령 실행이 bug report에 대한 내용과 함께 abort 될 때" property="og:description">
  
  
    <meta content="/crash-abort-post/" property="og:url">
  
  
    <meta content="2021-09-01T00:00:00+09:00" property="article:published_time">
    <meta content="/about/" property="article:author">
  
  
    <meta content="/assets/img//title/jekyll_logo.jpeg" property="og:image">
  
  
    
  
  
    
    <meta content="Jekyll" property="article:tag">
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@">
  
    <meta name="twitter:title" content="[Jekyll] jekyll serve 명령 실행 시 crash-abort 이슈">
  
  
    <meta name="twitter:url" content="/crash-abort-post/">
  
  
    <meta name="twitter:description" content="jekyll serve 명령 실행이 bug report에 대한 내용과 함께 abort 될 때">
  
  
    <meta name="twitter:image:src" content="/assets/img//title/jekyll_logo.jpeg">
  

	<meta name="description" content="jekyll serve 명령 실행이 bug report에 대한 내용과 함께 abort 될 때">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700|Lato:300,400,700&display=swap" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/github_profile(smaller).jpeg" alt="RICHPIN"></a>
      </div>
      <div class="author-name">RICHPIN</div>
      <p>Junior Developer</p>
    </div>
  </header> <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a href="https://instagram.com/nothinbutperson" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
        
        
          <li class="github"><a href="http://github.com/richpin" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li class="email"><a href="mailto:richpinkr99@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2022 © RICHPIN</p>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->
<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    <div class="page-cover-image">
      <figure>
        <img class="page-image" src="/assets/img//title/jekyll_logo.jpeg" alt="[Jekyll] jekyll serve 명령 실행 시 crash-abort 이슈">
        
      </figure>
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">[Jekyll] jekyll serve 명령 실행 시 crash-abort 이슈</h1>
        <div class="page-date"><span>2021, Sep 01    </span></div>
      </header>
      <p>이제는 저도 개발 블로그를 하나 해야겠다는 생각으로 <code class="language-plaintext highlighter-rouge">Github Pages</code>로 지금 이 블로그를 만들기 시작하던 중이었습니다.</p>

<h1 id="jekyll-테마를-다운받아-로컬-호스팅-해보기">jekyll 테마를 다운받아 로컬 호스팅 해보기</h1>

<p>많은 개발자들이 그러하듯 <code class="language-plaintext highlighter-rouge">jekyll</code> 테마를 이용하기 위해 <code class="language-plaintext highlighter-rouge">homebrew</code>로 버전 관리자인 <code class="language-plaintext highlighter-rouge">rbenv</code> 먼저 설치해주고</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ brew install rbenv
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">rbenv</code>로 가능한 <code class="language-plaintext highlighter-rouge">Ruby</code>버전들을 확인해봅니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv install --list

2.6.8
2.7.4
3.0.2
jruby-9.2.19.0
mruby-3.0.0
rbx-5.0
truffleruby-21.2.0.1
truffleruby+graalvm-21.2.0

Only latest stable releases for each Ruby implementation are shown.
Use 'rbenv install --list-all / -L' to show all local versions.
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">3.0.2</code>가 가장 최근이니 거침없이 다운합니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv install 3.0.2
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">Ruby</code> 패키지 관리 프레임워크인 <code class="language-plaintext highlighter-rouge">RubyGems</code>는 <a href="https://rubygems.org/pages/download/">공식 홈페이지</a>에서 받고, 그 <code class="language-plaintext highlighter-rouge">gem</code>을 이용해서 사용하려는 <code class="language-plaintext highlighter-rouge">jekyll</code>과 <code class="language-plaintext highlighter-rouge">bunlder</code>를 설치합니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem install jekyll bundler
</code></pre></div></div>
<p>원하는 <code class="language-plaintext highlighter-rouge">jekyll</code> 테마를 다운받아야 했는데 저는 그냥 가장 무난하고 사용이 많은 <code class="language-plaintext highlighter-rouge">minimal mistakes theme</code>을 받았습니다. 다운받은 테마 디렉토리로 이동 후 <code class="language-plaintext highlighter-rouge">bundle</code>을 실행해줍니다. 정말 컴퓨터는 한 가지 하려면 너무 여러 가지를 시킨다. <del>(명령어 한 번에 다 쭈루룩 되면 안되나…)</del></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bundle
</code></pre></div></div>
<p>이제 로컬 호스팅을 하기 위해 <code class="language-plaintext highlighter-rouge">serve</code>명령어 실행!!!</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bundle exec jekyll serve
</code></pre></div></div>
<p>잘되나 싶었지만……</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>497 /Library/Ruby/Gems/2.6.0/gems/sassc-2.4.0/lib/sassc/native/sass_input_style.rb
  498 /Library/Ruby/Gems/2.6.0/gems/sassc-2.4.0/lib/sassc/native/sass_output_style.rb
  499 /Library/Ruby/Gems/2.6.0/gems/sassc-2.4.0/lib/sassc/native/string_list.rb

[NOTE]
You may have encountered a bug in the Ruby interpreter or extension libraries.
Bug reports are welcome.
For details: https://www.ruby-lang.org/bugreport.html

[IMPORTANT]
Don't forget to include the Crash Report log file under
DiagnosticReports directory in bug reports.

zsh: abort      bundle exec jekyll serve
</code></pre></div></div>
<p>어째 한 번에 착!하고 잘 될리가 없지…<img class="emoji" title=":flushed:" alt=":flushed:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f633.png" height="20" width="20"><br>
<code class="language-plaintext highlighter-rouge">Crash Report</code>하더니 <code class="language-plaintext highlighter-rouge">abort</code>라.., 명령어가 씹혔다는 얘기네요…
해결방법을 찾아보려 열심히 구글링합니다.</p>

<h1 id="crash-report-후-abort-문제-해결해보기">Crash Report 후 abort 문제 해결해보기</h1>

<p>이것저것 해결해보았지만…방법이 보이지가 않았습니다.
열심히 나오는 명령어들 다 때려 넣어보았지만 언제나 그랬듯이 바로 해결되지 않네요.<img class="emoji" title=":sweat_smile:" alt=":sweat_smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f605.png" height="20" width="20"><br>
이 문제를 다루고 있는 가장 최근 커뮤니티를 살피던 중 <code class="language-plaintext highlighter-rouge">Apple m1</code>의 이슈라는 내용들이 있었습니다. (정말 여러모로 아직은 <code class="language-plaintext highlighter-rouge">m1</code>으로 살아가기 걸림돌이 많은 것 같습니다…)</p>

<p>어떤 <code class="language-plaintext highlighter-rouge">m1</code> 유저분은 이제 업데이트 <code class="language-plaintext highlighter-rouge">v3</code>이후로는 해결됬기 때문에 이것저것 업데이트 업데이트를 해보면 된다고 했습니다. 물론 해봤는데 안되서 <strong>gem으로 현재 상태를 확인해보고 있었습니다.</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem env

RubyGems Environment:
  - RUBYGEMS VERSION: 3.2.26
  - RUBY VERSION: 2.6.3 (2019-04-16 patchlevel 62) [universal.arm64e-darwin20]
  - INSTALLATION DIRECTORY: /Library/Ruby/Gems/2.6.0
</code></pre></div></div>
<p>뭔가 이상한데? 직관적으로 <code class="language-plaintext highlighter-rouge">RubyGems</code>와 <code class="language-plaintext highlighter-rouge">Ruby</code>의 버전 차이가 심함을 알았고 자세히 보니 2019년 버전??? 그러고 보니 아까 난 <code class="language-plaintext highlighter-rouge">3.0.2</code>버전을 다운받았는데???</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ruby -v
ruby 2.6.3p62 (2019-04-16 revision 67580) [universal.arm64e-darwin20]
</code></pre></div></div>
<p>정말 <code class="language-plaintext highlighter-rouge">2.6.3</code>이라는 뚱딴지 같은 버전으로 설정이 되어있었습니다.<img class="emoji" title=":rage:" alt=":rage:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f621.png" height="20" width="20"><br>
바로 <code class="language-plaintext highlighter-rouge">rbenv</code>를 통해 <code class="language-plaintext highlighter-rouge">3.0.2</code>로 버전 스위치에 들어갑니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv shell 3.0.2

rbenv: shell integration not enabled. Run `rbenv init' for instructions.
</code></pre></div></div>
<p>음…당황하지 않고, 써있는 대로 명령어를 실행해봅니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv init

# Load rbenv automatically by appending
# the following to ~/.zshrc:

eval "$(rbenv init -)"
</code></pre></div></div>
<p>후…다시 한 번 당황하지 않고, 써있는 대로 실행</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ eval "$(rbenv init -)"
</code></pre></div></div>
<p>그리고 다시 <code class="language-plaintext highlighter-rouge">$ rbenv shell 3.0.2</code>을 실행하니 드디어 되었습니다. 그리고 빠르게 디폴트 버전으로 설정해줍니다. (나중에야 알았지만 이미 진즉애 이 명령어로 Ruby 버전이 바뀌어있었습니다…)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv global 3.0.2
</code></pre></div></div>
<p>다시 <code class="language-plaintext highlighter-rouge">$ bundle exec jekyll serve</code> 실행해보니 잘됩니다!!! 적어도 내가 찾아봤을 때는 이런 경우에 관해 자세히 쓴 블로그는 못 봐서 이렇게 글을 쓰게 되었습니다. 따라서 혹시 이런 문제가 있다면</p>
<blockquote>
  <p><strong>결론 : gem env로 버전 확인 먼저 해보세요</strong></p>
</blockquote>

<p>.<br>
.<br>
.<br>
. <br>
.</p>
<h1 id="또-다른-이슈">또 다른 이슈</h1>
<p>하…끝내고 싶었는데 또 후속 문제가 찾아왔습니다. 터미널을 끄고 다시 실행하면 또 <code class="language-plaintext highlighter-rouge">Ruby</code> 버전이 <code class="language-plaintext highlighter-rouge">2.6.3</code>이 되어있네요.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rbenv global

3.0.2
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">global</code> 버전은 문제 없는데????</p>

<p>PATH가 잘못 들여져하고 확인해봤더니</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ env | grep PATH

PATH=/Users/yooyoungseok/.gem/ruby/2.6.0/bin:/Users/yooyoungseok/.gem/ruby/2.6.0/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin
MANPATH=/opt/homebrew/share/man::
INFOPATH=/opt/homebrew/share/info:
</code></pre></div></div>
<p>2.6.0??? 도대체 이게 왜 환경 변수에 왜 있는 거지?</p>

<p>그 이후로도 이것저것 다 해보다가 결국 초심으로 돌아가서 Ruby 버전 관리에 대한 문서로 돌아갔습니다. 그러다 보니 하나 걸리는 게<br>
<code class="language-plaintext highlighter-rouge">Pre-installed macOS system Ruby</code><br>
MAC OS에서는 기본적으로 시스템에 <code class="language-plaintext highlighter-rouge">Ruby</code>가 있다고 하네요…
버전은 <code class="language-plaintext highlighter-rouge">2.6.3</code>이랍니다. 이마를 탁! 쳤습니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ which ruby

/usr/bin/ruby
</code></pre></div></div>
<p>이렇게 보인다면 이미 깔려있는 거…문서에서는 그냥 무시하고 다른 버전 관리 시스템<code class="language-plaintext highlighter-rouge">(asdf, chruby, rbenv, or rvm)</code>들을 이용해서 사용하면 된다는 데 이것이 환경 변수에 영향을 끼쳐서 터미널을 새로 만들 시 계속해서 영향을 주고 있는 가 봅니다. MAC 사용자인 이상 안고갈 수 밖에 없는 가 보네요…<img class="emoji" title=":sob:" alt=":sob:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f62d.png" height="20" width="20"></p>

<p>그래서 저같은 경우는 그나마 편하게 <code class="language-plaintext highlighter-rouge">~/.bash_profile</code>안에</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)"
</code></pre></div></div>
<p>적어놓고 <code class="language-plaintext highlighter-rouge">serve</code> 해야될 시에</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source ~/.bash_profile
</code></pre></div></div>
<p>해주기로 타협 봤답니다.</p>

      <div class="page-footer">
        <div class="page-tag">
          
            <a href="/tags#Jekyll" class="tag"># Jekyll</a>
          
        </div>
      </div>
      <section class="comment-area">
  <div class="comment-wrapper">
    
    <div id="disqus_thread" class="article-comments"></div>
    <script>
      (function() {
          var d = document, s = d.createElement('script');
          s.src = '//richpin.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
    
  </div>
</section> <!-- End Comment Area -->

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
