I"<p>이번 시간에는 OS와 I/O로 소통하는 Device들에 대해 알아봅시다. 먼저 간단한 컴퓨터 시스템 구조부터 확인해볼까요?</p>

<p><img src="/assets/img/os-device/system_architecture.png" alt="system_architecture" width="50%" height="50%" /></p>

<p>시스템은 이와 같이 <code class="language-plaintext highlighter-rouge">Hierarchical</code> 구조를 띄고 있습니다. 가장 상단의 CPU와 Memory는 서로 <code class="language-plaintext highlighter-rouge">Memory bus</code>를 사용해서 데이터를 주고 받습니다. 아시다시피 모든 <code class="language-plaintext highlighter-rouge">bus</code> 중에 가장 빠르겠구요. 그 밑에는 모니터, 마우스, 키보드와 같은 주변기기들과 컴퓨터 메인보드를 연결하는 <code class="language-plaintext highlighter-rouge">I/O bus</code>가 위치합니다. 그리고 최하단에는 가장 느리지만 가장 용량이 큰 저장장치들이 <code class="language-plaintext highlighter-rouge">Peripheral bus</code>로 연결되어 있지요. 흔히 <code class="language-plaintext highlighter-rouge">Hardware</code>라고도 불리는 이 저장 장치에는 <code class="language-plaintext highlighter-rouge">SCSI</code>, <code class="language-plaintext highlighter-rouge">SATA</code>, 그리고 우리가 흔히 아는 <code class="language-plaintext highlighter-rouge">USB</code> 같은 프로토콜을 가집니다. 지금 우리가 공부할 부분이 바로 이 부분입니다.</p>

<p>Device에는 시스템 소프트웨어들이 제어를 할 수 있도록 3개의 <code class="language-plaintext highlighter-rouge">Hardware Interface Register</code>를 가집니다. 이는 아래와 같습니다.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Status Register</code> : 디바이스의 현 상태를 확인하기 위해 읽어들이는 레지스터 입니다.</li>
  <li><code class="language-plaintext highlighter-rouge">Command Register</code> : 디바이스에게 어떠한 task를 수행하도록 명령하기 위해 쓰는 레지스터 입니다.</li>
  <li><code class="language-plaintext highlighter-rouge">Data Register</code> : 디바이스와 데이터를 주고받기 위한 레지스터입니다.</li>
</ol>

<p>내부 구조에 따라 Device도 크게 두 가지로 나뉠 수 있습니다.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Simple Device</code> : 기능을 제공하기 위해 한 개 정도의 적은 <code class="language-plaintext highlighter-rouge">chip</code> 만을 가지는 디바이스 입니다.</li>
  <li><code class="language-plaintext highlighter-rouge">Complex Device</code> : 단순히 몇몇 chip을 가지는 것을 넘어 아래와 같이 고유의 <code class="language-plaintext highlighter-rouge">fireware</code> 가 등록되어 있는 작은 <code class="language-plaintext highlighter-rouge">CPU</code>, CPU와 함께 동작하는 <code class="language-plaintext highlighter-rouge">Memory</code>, 그리고 다양한 용도의 많은 <code class="language-plaintext highlighter-rouge">chip</code>을 가짐으로 하나의 작은 컴퓨터로서 동작하는 디바이스 입니다.</li>
</ol>

<p><img src="/assets/img/os-device/complex_device.png" alt="complex_device" width="40%" height="40%" /></p>

<p>위에서 설명한 레지스터를 이용하여 컴퓨터는 간단하게 아래와 같이 디바이스와 소통할 수 있습니다.</p>

<p><img src="/assets/img/os-device/protocol_problem.png" alt="protocol_problem" width="40%" height="40%" /></p>

:ET